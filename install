#!/usr/bin/env python3
#--*-- coding: utf-8 --*--


"""
install program for ethOS-update-manager
"""

# import 
import os, time


# prepare sys
os.system("cd /home/ethos/")
os.system("chmod +x /home/ethos/ethOS-update-manager/launch.py")
os.system("chmod +x /home/ethos/ethOS-update-manager/ethOsUpdateManager/main.py")


# create alias (shortcup for CLI) : 
os.system("""echo "alias LAUNCH='python3 /home/ethos/ethOS-update-manager/launch.py'" >>  /home/ethos/.bashrc""")


# for automatic program launch (background) at each ethos stratup : 
os.system("echo 'python3 /home/ethos/ethOS-update-manager/launch.py' >> /home/ethos/.bashrc")


# info reboot
print("for full install, system will reboot in : ")
for i in range(2, 0, -1) : 
	print(str(i+1))
	time.sleep(1)


#auto reboot 
ans = os.system("r")
if not ans : 
	ans = os.system("reboot")
	if not ans : 
		ans = os.system("sudo reboot")
		if not ans : 
			print("auto reboot fail, please reboot manualy")